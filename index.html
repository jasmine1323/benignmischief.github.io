<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <title>Benign Mischief</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', Courier, monospace;
            line-height: 1.6;
            color: #222;
            background: #f5f5f5;
            padding: 20px;
            max-width: 100%;
            position: relative;
            overflow-x: hidden;
        }

        /* ===== ASCII SNAKE OVERLAY ===== */
        #snake-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10;
            pointer-events: none;
            white-space: pre;
            font-size: 18px;
            line-height: 18px;
            color: rgba(0, 255, 0, 0.45);
            background: transparent;
            user-select: none;
            overflow: hidden;
        }

        /* ===== OUROBOROS MODAL ===== */
        #ouroboros-modal {
            position: fixed;
            inset: 0;
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.95);
            animation: fadeIn 0.5s ease-in;
        }

        #ouroboros-modal.show {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        .ouroboros-container {
            text-align: center;
            animation: pulse 3s ease-in-out infinite;
        }

        .ouroboros-svg {
            width: 500px;
            height: 500px;
            filter: drop-shadow(0 0 30px rgba(0, 255, 100, 0.6));
        }

        .ouroboros-img {
            width: 400px;
            height: 400px;
            filter: drop-shadow(0 0 30px rgba(0, 255, 100, 0.6));
            animation: rotate 20s linear infinite;
        }

        .symbols-overlay {
            position: absolute;
            width: 400px;
            height: 400px;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            pointer-events: none;
        }

        .symbol {
            position: absolute;
            font-size: 20px;
            color: #0f0;
            opacity: 0.5;
            text-shadow: 0 0 10px rgba(0, 255, 0, 0.8);
        }

        .ouroboros-circle {
            animation: rotate 20s linear infinite;
            transform-origin: center;
        }

        .ouroboros-text {
            font-family: 'Courier New', monospace;
            font-size: 2em;
            color: #0f0;
            text-shadow: 0 0 20px rgba(0, 255, 0, 0.8);
            margin-top: 30px;
            letter-spacing: 5px;
        }

        .ouroboros-subtext {
            font-family: 'Courier New', monospace;
            font-size: 1em;
            color: #0f0;
            margin-top: 15px;
            opacity: 0.7;
        }
        
        .container {
            max-width: 720px;
            margin: 50px auto;
            background: #fff;
            padding: 30px;
            border: 2px solid #333;
            position: relative;
            z-index: 1;
        }

        header {
            border-bottom: 2px solid #333;
            padding-bottom: 15px;
            margin-bottom: 25px;
            text-align: center;
        }

        h1 {
            font-size: 1.8em;
            font-weight: bold;
            letter-spacing: 3px;
            margin-bottom: 10px;
            color: #000;
        }

        .subtitle {
            font-size: 0.9em;
            color: #666;
        }

        .about {
            margin: 30px 0;
            padding: 20px;
            background: #f0f0f0;
            border: 1px solid #333;
        }

        .about h2 {
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 12px;
            color: #000;
        }

        .about p {
            color: #444;
            line-height: 1.6;
        }

        .theme-selector {
            margin: 20px 0;
            padding: 15px;
            background: #f0f0f0;
            border: 1px solid #333;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .theme-selector label {
            font-weight: bold;
            margin-right: 10px;
        }

        .theme-selector select {
            padding: 5px 10px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9em;
            border: 1px solid #333;
            background: white;
            cursor: pointer;
        }

        .speed-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .speed-control label {
            font-weight: bold;
        }

        .speed-control input[type="range"] {
            width: 120px;
        }

        .speed-control span {
            min-width: 30px;
            font-weight: bold;
        }

        #snake-toggle {
            cursor: pointer;
            font-weight: bold;
            white-space: nowrap;
        }

        .nav-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin: 30px 0;
        }

        .nav-card {
            background: #f0f0f0;
            border: 1px solid #333;
            padding: 25px;
            text-align: center;
            transition: all 0.2s;
            text-decoration: none;
            color: #000;
        }

        .nav-card:hover {
            background: #000;
            color: #fff;
        }

        .nav-card h3 {
            font-size: 1.3em;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .nav-card p {
            font-size: 0.85em;
            color: inherit;
        }

        .art-tree {
            font-size: 0.75em;
            white-space: pre;
            line-height: 1.3;
            text-align: left;
            margin-top: 10px;
        }

        .art-tree a {
            color: inherit;
            text-decoration: none;
        }

        .art-tree a:hover {
            text-decoration: underline;
        }

        footer {
            margin-top: 40px;
            padding-top: 15px;
            border-top: 1px solid #333;
            text-align: center;
            font-size: 0.85em;
            color: #666;
        }
        
        @media (max-width: 600px) {
            .nav-grid {
                grid-template-columns: 1fr;
            }

            .container {
                padding: 20px;
            }

            h1 {
                font-size: 1.5em;
            }

            .theme-selector {
                flex-direction: column;
                align-items: flex-start;
            }

            .ouroboros-img {
                width: 300px;
                height: 300px;
            }

            .symbols-overlay {
                width: 300px;
                height: 300px;
            }

            .symbol {
                font-size: 16px;
            }
            
            h1 {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>
    <pre id="snake-overlay"></pre>
    
    <!-- Ouroboros Easter Egg Modal -->
    <div id="ouroboros-modal">
        <div class="ouroboros-container">
            <div style="position: relative; display: inline-block;">
                <img src="wtrdrgn_ouroboro.png" alt="Ouroboros" class="ouroboros-img">
                <div class="symbols-overlay">
                    <span class="symbol" style="top: -10px; left: 50%; transform: translateX(-50%);">∞</span>
                    <span class="symbol" style="top: 50%; right: -10px; transform: translateY(-50%);">☿</span>
                    <span class="symbol" style="bottom: -10px; left: 50%; transform: translateX(-50%);">⚕</span>
                    <span class="symbol" style="top: 50%; left: -10px; transform: translateY(-50%);">◉</span>
                </div>
            </div>
            <div class="ouroboros-text">OUROBOROS</div>
            <div class="ouroboros-subtext">The Eternal Cycle Revealed</div>
            <div class="ouroboros-subtext" style="margin-top: 30px; cursor: pointer;" onclick="document.getElementById('ouroboros-modal').classList.remove('show')">[ Click to Continue ]</div>
        </div>
    </div>
    
    <div class="container">
        <header>
            <h1>BENIGN MISCHIEF</h1>
            <p class="subtitle">a collection of curiosities</p>
        </header>

        <div class="theme-selector">
            <div>
                <select id="theme-select">
                    <option value="dark">dark</option>
                    <option value="light">light</option>
                    <option value="space">space</option>
                    <option value="terminal">terminal</option>
                    <option value="forest">forest</option>
                </select>
            </div>
  
            <div class="speed-control">
                <label>[ SPEED ]</label>
                <input type="range" id="speed-slider" min="1" max="10" value="5" step="0.5">
                <span id="speed-value">5x</span>
            </div>

            <span id="snake-toggle">[ Snake : On ]</span>
        </div>

        <div class="about">
            <h2>[ ABOUT ]</h2>
            <p>welcome to my corner of the internet. this is a simple, low-energy website where i share things i find interesting. no fancy frameworks, no tracking scripts—just content and curiosity.</p>
        </div>

        <div class="nav-grid">
            <div class="nav-card">
                <a href="art.html" style="text-decoration: none; color: inherit; display: block;">
                    <h3>[ ART ]</h3>
                </a>
                <div class="art-tree">├─ <a href="drawing.html">[ Drawing ]</a>
├─ <a href="photography.html">[ Photography ]</a>
├─ <a href="poetry.html">[ Poetry ]</a>
├─ <a href="prose.html">[ Prose ]</a>
├─ <a href="handmade-books.html">[ Handmade Books ]</a>
└─ <a href="other-crafts.html">[ Other Crafts ]</a></div>
            </div>

            <div class="nav-card">
                <a href="links.html" style="text-decoration: none; color: inherit; display: block;">
                    <h3>[ LINKS ]</h3>
                </a>
                <div class="art-tree">├─ <a href="links-games.html">[ Games ]</a>
├─ <a href="links-content.html">[ Content ]</a>
├─ <a href="links-memes.html">[ Memes ]</a>
└─ <a href="links-physics.html">[ Physics ]</a></div>
            </div>

            <a href="science.html" class="nav-card">
                <h3>[ SCIENCE ]</h3>
                <p>discoveries and ideas</p>
            </a>

            <a href="library.html" class="nav-card">
                <h3>[ LIBRARY ]</h3>
                <p>book collection</p>
            </a>
        </div>
        
        <footer>
            <p>built with ai | page weight: <span id="page-weight">calculating...</span></p>
        </footer>
    </div>

    <script>
        // Calculate page weight
        window.addEventListener('load', function() {
            const htmlSize = new Blob([document.documentElement.outerHTML]).size;
            let totalSize = htmlSize;
            
            if (performance && performance.getEntriesByType) {
                const resources = performance.getEntriesByType('resource');
                resources.forEach(resource => {
                    if (resource.transferSize) {
                        totalSize += resource.transferSize;
                    }
                });
            }
            
            const sizeKB = (totalSize / 1024).toFixed(1);
            document.getElementById('page-weight').textContent = sizeKB + ' KB';
        });

        // Theme system with snake colors
        const themes={
            light:{bodyBg:'#ffffff',containerBg:'#ffffff',containerBorder:'#000000',textColor:'#000000',secondaryText:'#333333',controlsBg:'#f5f5f5',controlsBorder:'#000000',selectBg:'#ffffff',selectBorder:'#000000',snakeColor:'rgba(0, 150, 0, 0.7)'},
            dark:{bodyBg:'#1c2833',containerBg:'#273746',containerBorder:'#fffdd0',textColor:'#ffffff',secondaryText:'#e0e0e0',controlsBg:'#17212b',controlsBorder:'#fffdd0',selectBg:'#273746',selectBorder:'#fffdd0',snakeColor:'rgba(45, 255, 126, 0.8)'},
            space:{bodyBg:'#0f0e17',containerBg:'#1c1b29',containerBorder:'#ff8906',textColor:'#fffffe',secondaryText:'#a7a9be',controlsBg:'#2e2f3e',controlsBorder:'#ff8906',selectBg:'#1c1b29',selectBorder:'#ff8906',snakeColor:'rgba(0, 234, 141, 0.75)'},
            terminal:{bodyBg:'#1a0f0a',containerBg:'#2d1b13',containerBorder:'#ff6e40',textColor:'#ffa600',secondaryText:'#ffb347',controlsBg:'#3d2418',controlsBorder:'#ff6e40',selectBg:'#2d1b13',selectBorder:'#ff6e40',snakeColor:'rgba(102, 255, 102, 0.8)'},
            forest:{bodyBg:'#004643',containerBg:'#0f3433',containerBorder:'#abd1c6',textColor:'#fffffe',secondaryText:'#abd1c6',controlsBg:'#001e1d',controlsBorder:'#abd1c6',selectBg:'#0f3433',selectBorder:'#abd1c6',snakeColor:'rgba(171, 255, 198, 0.85)'}
        };

        function applyTheme(n){const t=themes[n];if(!t)return;const s=(e,p)=>{const el=document.querySelectorAll(e);el.forEach(i=>Object.keys(p).forEach(k=>i.style[k]=p[k]))};document.body.style.background=t.bodyBg;document.body.style.color=t.textColor;s('.container',{background:t.containerBg,borderColor:t.containerBorder});s('header',{borderColor:t.containerBorder});s('h1,.modal-title',{color:t.textColor});s('.nav-link,.modal-close',{color:t.textColor});s('.controls,.theme-selector,.about,.modal-annotations,.snake-game',{background:t.controlsBg,borderColor:t.controlsBorder});s('.controls label,.theme-selector label,.about h2,.modal-annotations h3,.snake-game h2,.speed-control label',{color:t.textColor});s('.controls select,.theme-selector select',{background:t.selectBg,color:t.textColor,borderColor:t.selectBorder});s('.subtitle,.about p,.modal-author,.modal-details,.modal-annotations p,.game-info,.game-instructions',{color:t.secondaryText});s('.nav-card',{background:t.controlsBg,borderColor:t.controlsBorder,color:t.textColor});s('.nav-card p',{color:t.secondaryText});s('footer',{borderColor:t.controlsBorder,color:t.secondaryText});s('.modal-details',{borderColor:t.controlsBorder,color:t.secondaryText});s('.modal-details strong',{color:t.textColor});s('.game-controls button',{background:t.selectBg,color:t.textColor,borderColor:t.controlsBorder});s('#snake-overlay',{color:t.snakeColor});s('#snake-toggle',{color:t.textColor});const m=document.querySelector('.modal');if(m){const h=t.bodyBg,r=parseInt(h.slice(1,3),16),g=parseInt(h.slice(3,5),16),b=parseInt(h.slice(5,7),16);m.style.background=`rgba(${r},${g},${b},0.9)`}const mc=document.querySelector('.modal-content');if(mc){mc.style.background=t.containerBg;mc.style.borderColor=t.containerBorder;mc.style.color=t.textColor}localStorage.setItem('siteTheme',n);window.currentTheme=n;}

        const savedTheme=localStorage.getItem('siteTheme')||'dark';const ts=document.getElementById('theme-select');if(ts){ts.value=savedTheme;ts.addEventListener('change',e=>applyTheme(e.target.value))}applyTheme(savedTheme);

        // Speed slider
        const speedSlider = document.getElementById('speed-slider');
        const speedValue = document.getElementById('speed-value');
        
        speedSlider.addEventListener('input', (e) => {
            speedValue.textContent = e.target.value + 'x';
        });

        // Prevent arrow keys from scrolling the page
        window.addEventListener('keydown', function(e) {
            if(['ArrowUp','ArrowDown','ArrowLeft','ArrowRight'].includes(e.key)) {
                e.preventDefault();
            }
        }, {passive: false});
        
        document.addEventListener("DOMContentLoaded", () => {
        /* ===== ASCII SNAKE GAME ===== */
        const overlay = document.getElementById("snake-overlay");
        const toggle = document.getElementById("snake-toggle");
    
        if (!overlay || !toggle) return;
    
        let snakeEnabled = true;
    
        if (toggle) {
            toggle.addEventListener("click", () => {
                snakeEnabled = !snakeEnabled;
                overlay.style.display = snakeEnabled ? "block" : "none";
                toggle.textContent = snakeEnabled
                    ? "[ Snake : On ]"
                    : "[ Snake : Off ]";
            });
        }
        
        let cols, rows;
        
        let snake, food, dir, running = true;
        let lastTickTime = 0;

        function measureChar() {
            const span = document.createElement("span");
            span.textContent = "@";
            span.style.position = "absolute";
            span.style.visibility = "hidden";
            span.style.fontFamily = "'Courier New', monospace";
            span.style.fontSize = "18px";
            span.style.lineHeight = "18px";
            document.body.appendChild(span);
        
            const rect = span.getBoundingClientRect();
            document.body.removeChild(span);
        
            return { w: rect.width, h: rect.height };
        }
        
        const CHAR = measureChar();
        
        function resizeBoard() {
            cols = Math.floor(window.innerWidth / CHAR.w);
            rows = Math.floor(window.innerHeight / CHAR.h);
        }

        window.addEventListener("resize", resizeBoard);
        resizeBoard();
        
        function resetGame() {
            snake = [{ x: Math.floor(cols / 2), y: Math.floor(rows / 2) }];
            dir = { x: 1, y: 0 };
            spawnFood();
        }
        resetGame();
        
        function spawnFood() {
            do {
                food = {
                    x: Math.floor(Math.random() * cols),
                    y: Math.floor(Math.random() * rows)
                };
            } while (snake.some(s => s.x === food.x && s.y === food.y));
        }
        
        document.addEventListener("keydown", e => {
            if (e.key === "ArrowUp" && dir.y === 0) dir = { x: 0, y: -1 };
            if (e.key === "ArrowDown" && dir.y === 0) dir = { x: 0, y: 1 };
            if (e.key === "ArrowLeft" && dir.x === 0) dir = { x: -1, y: 0 };
            if (e.key === "ArrowRight" && dir.x === 0) dir = { x: 1, y: 0 };
        });

        function getTickInterval() {
            // Base speed: 200ms for length 1
            // Gets faster as snake grows: min 80ms at length 50+
            const baseSpeed = 200;
            const minSpeed = 80;
            const lengthFactor = Math.max(0, (baseSpeed - minSpeed) * (1 - snake.length / 50));
            const lengthAdjustedSpeed = minSpeed + lengthFactor;
            
            // Apply speed multiplier from slider (1x to 10x)
            const speedMultiplier = parseFloat(speedSlider.value);
            
            // Higher multiplier = shorter interval = faster snake
            return lengthAdjustedSpeed / speedMultiplier;
        }
        
        function tick(currentTime) {
            if (!running) {
                requestAnimationFrame(tick);
                return;
            }
        
            const interval = getTickInterval();
            
            if (currentTime - lastTickTime < interval) {
                requestAnimationFrame(tick);
                return;
            }
            
            lastTickTime = currentTime;
            
            const head = {
                x: snake[0].x + dir.x,
                y: snake[0].y + dir.y
            };
        
            // wrap instead of dying
            if (head.x < 0) head.x = cols - 1;
            if (head.x >= cols) head.x = 0;
            if (head.y < 0) head.y = rows - 1;
            if (head.y >= rows) head.y = 0;

            // self-collision still matters
            if (snake.some(s => s.x === head.x && s.y === head.y)) {
                // Easter egg: check if head hit the tail (last segment)
                const tail = snake[snake.length - 1];
                if (head.x === tail.x && head.y === tail.y) {
                    // OUROBOROS EASTER EGG!
                    const modal = document.getElementById('ouroboros-modal');
                    if (modal) {
                        modal.classList.add('show');
                        setTimeout(() => {
                            resetGame();
                        }, 100);
                    }
                } else {
                    resetGame();
                }
                requestAnimationFrame(tick);
                return;
            }
            
            snake.unshift(head);
        
            if (head.x === food.x && head.y === food.y) {
                spawnFood();
            } else {
                snake.pop();
            }
        
            draw();
            requestAnimationFrame(tick);
        }
        
        function draw() {
            let buffer = "";
            for (let y = 0; y < rows; y++) {
                for (let x = 0; x < cols; x++) {
                    if (snake[0].x === x && snake[0].y === y) buffer += "@";
                    else if (snake.slice(1).some(s => s.x === x && s.y === y)) buffer += "o";
                    else if (food.x === x && food.y === y) buffer += "*";
                    else buffer += " ";
                }
                buffer += "\n";
            }
            overlay.textContent = buffer;
        }
        
        requestAnimationFrame(tick);
        });

    </script>
</body>
</html>
